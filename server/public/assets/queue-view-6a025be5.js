import{_ as h,o as a,c,F as _,b,a as s,t as d,e as f,f as r,r as y,g as m}from"./index-676720a4.js";const g={name:"queue-list",props:{messageQueue:{type:Object,default:null}},watch:{messageQueue(e,t){if(e){let{dowhat:l,info:o}=e;switch(l){case"playlistAdd":this.playlistAdd(o);break;case"playlistUpdate":this.playlistUpdate(o);break}}}},data(){return{prehost:"http://localhost:16206/",queueList:{},queueIsZero:"zero playlist"}},methods:{playlistAdd(e){let{playlist:t}=e;this.queueList[t]=e},playlistUpdate(e){let{playlist:t}=e;for(let l in e)this.queueList[t][l]=e[l]},fetchPlaylistDownload(e){let t={playlist:e},l=`${this.prehost}queue/download`,o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch(l,o).then()},fetchOpenNewTab(e){},fetchQueueDelete(e){delete this.queueList[e];let t={playlist:e},l=`${this.prehost}queue/`,o={method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch(l,o).then()},fetchGetAllVid(e){let t={playlist:e},l=`${this.prehost}notice/playlist/`,o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch(l,o).then()},fetchQueueAll(){let e=`${this.prehost}queue/all`;fetch(e).then(t=>t.json()).then(t=>{this.queueList=t})}},created(){this.fetchQueueAll()}},k={id:"queuearr",class:"container-fluid"},v={class:"col-md-12"},$=["onClick"],C={class:"col-auto"},Q=["onClick"],w=s("div",{class:"col-2"},null,-1),L={class:"col-auto"},O=["onClick"],q={class:"btn disabled"},N={class:"btn disabled"},T=["onClick"],j={key:0,class:"row border my-3"},A={class:"btn disabled"};function S(e,t,l,o,p,i){return a(),c("div",k,[(a(!0),c(_,null,b(this.queueList,n=>(a(),c("div",{class:"row border my-3",key:n.playlist},[s("div",v,[s("button",{onClick:u=>i.fetchOpenNewTab(n),class:"btn disabled"},d(n.title),9,$)]),s("div",C,[s("button",{class:"btn btn-outline-danger",onClick:u=>i.fetchQueueDelete(n.playlist)}," delete this playlist and all sub task ",8,Q)]),w,s("div",L,[s("button",{onClick:u=>i.fetchGetAllVid(n.playlist),class:"btn btn-outline-info"}," get all video id ",8,O),s("button",q,[r(" total "),s("span",null,d(n.total),1)]),s("button",N,[r(" progress "),s("span",null,d(n.progress),1)]),s("button",{onClick:u=>i.fetchPlaylistDownload(n.playlist),class:"btn btn-outline-info"},"download all video ",8,T)])]))),128)),Object.keys(this.queueList).length===0?(a(),c("div",j,[s("button",A,d(this.queueIsZero),1)])):f("",!0)])}const V=h(g,[["render",S]]),x={name:"queue-view",components:{QueueList:V},props:{messageQueue:{type:Object,default:null}}};function D(e,t,l,o,p,i){const n=y("QueueList");return a(),m(n,{messageQueue:this.messageQueue},null,8,["messageQueue"])}const P=h(x,[["render",D]]);export{P as default};
