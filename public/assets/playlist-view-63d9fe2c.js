import{_ as h,o as n,c,F as _,r as u,a as s,t as d,e as b,f as r,b as f,g as m}from"./index-0288bccd.js";const g={name:"playlist-list",props:{messagePlaylist:{type:Object,default:null}},watch:{messagePlaylist(t,e){if(t){let{dowhat:l,queue:i}=t;switch(l){case"playlistAdd":this.playlistAdd(i);break;case"playlistUpdate":this.playlistUpdate(i);break}}}},data(){return{prehost:"http://localhost:16206/",playlistList:{},playlistIsZero:"zero playlist"}},methods:{playlistAdd(t){let{playlist:e}=t;this.playlistList[e]=t},playlistUpdate(t){let{playlist:e}=t;for(let l in t)this.playlistList[e][l]=t[l]},fetchPlaylistDownload(t){let e={playlist:t},l=`${this.prehost}queue/download`,i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch(l,i).then()},fetchOpenNewTab(t){},fetchQueueDelete(t){delete this.playlistList[t];let e={playlist:t},l=`${this.prehost}queue/`,i={method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch(l,i).then()},fetchGetAllVid(t){let e={playlist:t},l=`${this.prehost}notice/playlist/`,i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch(l,i).then()},fetchQueueAll(){let t=`${this.prehost}queue/all`;fetch(t).then(e=>e.json()).then(e=>{this.playlistList=e})}},created(){this.fetchQueueAll()}},k={id:"queuearr",class:"container-fluid"},v={class:"col-md-12"},$=["onClick"],C={class:"col-auto"},P=["onClick"],w=s("div",{class:"col-2"},null,-1),L={class:"col-auto"},O=["onClick"],N={class:"btn disabled"},T={class:"btn disabled"},j=["onClick"],A={key:0,class:"row border my-3"},S={class:"btn disabled"};function V(t,e,l,i,y,o){return n(),c("div",k,[(n(!0),c(_,null,u(this.playlistList,a=>(n(),c("div",{class:"row border my-3",key:a.playlist},[s("div",v,[s("button",{onClick:p=>o.fetchOpenNewTab(a),class:"btn disabled"},d(a.title),9,$)]),s("div",C,[s("button",{class:"btn btn-outline-danger",onClick:p=>o.fetchQueueDelete(a.playlist)}," delete this playlist and all sub task ",8,P)]),w,s("div",L,[s("button",{onClick:p=>o.fetchGetAllVid(a.playlist),class:"btn btn-outline-info"}," get all video id ",8,O),s("button",N,[r(" total "),s("span",null,d(a.total),1)]),s("button",T,[r(" progress "),s("span",null,d(a.progress),1)]),s("button",{onClick:p=>o.fetchPlaylistDownload(a.playlist),class:"btn btn-outline-info"},"download all video ",8,j)])]))),128)),Object.keys(this.playlistList).length===0?(n(),c("div",A,[s("button",S,d(this.playlistIsZero),1)])):b("",!0)])}const x=h(g,[["render",V]]),D={name:"queue-view",components:{PlaylistList:x},props:{messagePlaylist:{type:Object,default:null}}};function B(t,e,l,i,y,o){const a=f("PlaylistList");return n(),m(a,{messagePlaylist:this.messagePlaylist},null,8,["messagePlaylist"])}const J=h(D,[["render",B]]);export{J as default};
